(function(b){var p,z,w,f,J,m,D,q,E,F,u=0,e={},t=[],r=0,c={},n=[],K=null,x=new Image,N=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,Z=/[^\.]\.(swf)\s*$/i,O,P=1,B=0,y="",v,l,k=!1,G=b.extend(b("<div/>")[0],{prop:0}),Q=function(){z.hide();x.onerror=x.onload=null;K&&K.abort();p.empty()},R=function(){!1===e.onError(t,u,e)?(z.hide(),k=!1):(e.titleShow=!1,e.width="auto",e.height="auto",p.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),H())},M=function(){var a=
t[u];Q();e=b.extend({},b.fn.fancybox.defaults,"undefined"==typeof b(a).data("fancybox")?e:b(a).data("fancybox"));var d=e.onStart(t,u,e);if(!1===d)k=!1;else{"object"==typeof d&&(e=b.extend(e,d));var g=e.title||(a.nodeName?b(a).attr("title"):a.title)||"";a.nodeName&&!e.orig&&(e.orig=b(a).children("img").first().length?b(a).children("img").first():b(a));""===g&&e.orig&&e.titleFromAlt&&(g=e.orig.attr("alt"));var h=e.href||(a.nodeName?b(a).attr("href"):a.href)||null;if(/^(?:javascript)/i.test(h)||"#"==
h)h=null;if(e.type){var C=e.type;h||(h=e.content)}else e.content?C="html":h&&(C=h.match(N)?"image":h.match(Z)?"swf":b(a).hasClass("iframe")?"iframe":0===h.indexOf("#")?"inline":"ajax");if(C)switch("inline"==C&&(a=h.substr(h.indexOf("#")),C=0<b(a).length?"inline":"ajax"),e.type=C,e.href=h,e.title=g,e.autoDimensions&&("html"==e.type||"inline"==e.type||"ajax"==e.type?(e.width="auto",e.height="auto"):e.autoDimensions=!1),e.modal&&(e.overlayShow=!0,e.hideOnOverlayClick=!1,e.hideOnContentClick=!1,e.enableEscapeButton=
!1,e.showCloseButton=!1),e.padding=parseInt(e.padding,10),e.margin=parseInt(e.margin,10),p.css("padding",e.padding+e.margin),b(".fancybox-inline-tmp").off("fancybox-cancel").on("fancybox-change",function(){b(this).replaceWith(m.children())}),C){case "html":p.html(e.content);H();break;case "inline":if(!0===b(a).parent().is("#fancybox-content")){k=!1;break}b('<div class="fancybox-inline-tmp" />').hide().insertBefore(b(a)).on("fancybox-cleanup",function(){b(this).replaceWith(m.children())}).on("fancybox-cancel",
function(){b(this).replaceWith(p.children())});b(a).appendTo(p);H();break;case "image":k=!1;b.fancybox.showActivity();x=new Image;x.onerror=function(){R()};x.onload=function(){k=!0;x.onerror=x.onload=null;e.width=x.width;e.height=x.height;b("<img />").attr({id:"fancybox-img",src:x.src,alt:e.title}).appendTo(p);S()};x.src=h;break;case "swf":e.scrolling="no";var T='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+h+'"></param>';
var X="";b.each(e.swf,function(A,I){T+='<param name="'+A+'" value="'+I+'"></param>';X+=" "+A+'="'+I+'"'});T+='<embed src="'+h+'" type="application/x-shockwave-flash" width="'+e.width+'" height="'+e.height+'"'+X+"></embed></object>";p.html(T);H();break;case "ajax":k=!1;b.fancybox.showActivity();e.ajax.win=e.ajax.success;K=b.ajax(b.extend({},e.ajax,{url:h,data:e.ajax.data||{},error:function(A,I,L){0<A.status&&R()},success:function(A,I,L){if(200==("object"==typeof L?L:K).status){if("function"==typeof e.ajax.win){d=
e.ajax.win(h,A,I,L);if(!1===d){z.hide();return}if("string"==typeof d||"object"==typeof d)A=d}p.html(A);H()}}}));break;case "iframe":S()}else R()}},H=function(){var a=e.width,d=e.height;a=-1<a.toString().indexOf("%")?parseInt((b(window).width()-2*e.margin)*parseFloat(a)/100,10)+"px":"auto"==a?"auto":a+"px";d=-1<d.toString().indexOf("%")?parseInt((b(window).height()-2*e.margin)*parseFloat(d)/100,10)+"px":"auto"==d?"auto":d+"px";p.wrapInner('<div style="width:'+a+";height:"+d+";overflow: "+("auto"==
e.scrolling?"auto":"yes"==e.scrolling?"scroll":"hidden")+';position:relative;"></div>');e.width=p.width();e.height=p.height();S()},S=function(){z.hide();if(f.is(":visible")&&!1===c.onCleanup(n,r,c))b(".fancybox-inline-tmp").trigger("fancybox-cancel"),k=!1;else{k=!0;b(m.add(w)).off();b(window).off("resize.fb scroll.fb");b(document).off("keydown.fb");f.is(":visible")&&"outside"!==c.titlePosition&&f.css("height",f.height());n=t;r=u;c=e;c.overlayShow?(w.css({"background-color":c.overlayColor,opacity:c.overlayOpacity,
cursor:c.hideOnOverlayClick?"pointer":"auto",height:b(document).height()}),w.is(":visible")||w.show()):w.hide();l=aa();y=c.title||"";B=0;q.empty().removeAttr("style").removeClass();if(!1!==c.titleShow&&(y="function"===typeof c.titleFormat?c.titleFormat(y,n,r,c):y&&y.length?"float"==c.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+y+'</td><td id="fancybox-title-float-right"></td></tr></table>':
'<div id="fancybox-title-'+c.titlePosition+'">'+y+"</div>":!1)&&""!==y)switch(q.addClass("fancybox-title-"+c.titlePosition).html(y).appendTo("body").show(),c.titlePosition){case "inside":q.css({width:l.width-2*c.padding,marginLeft:c.padding,marginRight:c.padding});B=q.outerHeight(!0);q.appendTo(J);l.height+=B;break;case "over":q.css({marginLeft:c.padding,width:l.width-2*c.padding,bottom:c.padding}).appendTo(J);break;case "float":q.css("left",-1*parseInt((q.width()-l.width-40)/2,10)).appendTo(f);break;
default:q.css({width:l.width-2*c.padding,paddingLeft:c.padding,paddingRight:c.padding}).appendTo(f)}q.hide();if(f.is(":visible")){b(D.add(E).add(F)).hide();var a=f.position();v={top:a.top,left:a.left,width:f.width(),height:f.height()};var d=v.width==l.width&&v.height==l.height;m.fadeTo(c.changeFade,.3,function(){var g=function(){m.html(p.contents()).fadeTo(c.changeFade,1,U)};b(".fancybox-inline-tmp").trigger("fancybox-change");m.empty().removeAttr("filter").css({"border-width":c.padding,width:l.width-
2*c.padding,height:e.autoDimensions?"auto":l.height-B-2*c.padding});d?g():(G.prop=0,b(G).animate({prop:1},{duration:c.changeSpeed,easing:c.easingChange,step:V,complete:g}))})}else f.removeAttr("style"),m.css("border-width",c.padding),"elastic"==c.transitionIn?(v=Y(),m.html(p.contents()),f.show(),c.opacity&&(l.opacity=0),G.prop=0,b(G).animate({prop:1},{duration:c.speedIn,easing:c.easingIn,step:V,complete:U})):("inside"==c.titlePosition&&0<B&&q.show(),m.css({width:l.width-2*c.padding,height:e.autoDimensions?
"auto":l.height-B-2*c.padding}).html(p.contents()),f.css(l).fadeIn("none"==c.transitionIn?0:c.speedIn,U))}},ba=function(){if(c.enableEscapeButton||c.enableKeyboardNav)b(document).on("keydown.fb",function(a){27==a.keyCode&&c.enableEscapeButton?(a.preventDefault(),b.fancybox.close()):37!=a.keyCode&&39!=a.keyCode||!c.enableKeyboardNav||"INPUT"===a.target.tagName||"TEXTAREA"===a.target.tagName||"SELECT"===a.target.tagName||(a.preventDefault(),b.fancybox[37==a.keyCode?"prev":"next"]())});c.showNavArrows?
((c.cyclic&&1<n.length||0!==r)&&E.show(),(c.cyclic&&1<n.length||r!=n.length-1)&&F.show()):(E.hide(),F.hide())},U=function(){e.autoDimensions&&m.css("height","auto");f.css("height","auto");y&&y.length&&q.show();c.showCloseButton&&(D.show(),D[0].focus());ba();if(c.hideOnContentClick)m.on("click",b.fancybox.close);if(c.hideOnOverlayClick)w.on("click",b.fancybox.close);b(window).on("resize.fb",b.fancybox.resize);if(c.centerOnScroll)b(window).on("scroll.fb",b.fancybox.center);"iframe"==c.type&&b('<iframe id="fancybox-frame" name="fancybox-frame'+
(new Date).getTime()+'" frameborder="0" hspace="0" scrolling="'+e.scrolling+'" src="'+c.href+'"></iframe>').appendTo(m);f.show();k=!1;b.fancybox.center();c.onComplete(n,r,c);if(n.length-1>r){var a=n[r+1].href;if("undefined"!==typeof a&&a.match(N)){var d=new Image;d.src=a}}0<r&&(a=n[r-1].href,"undefined"!==typeof a&&a.match(N)&&(d=new Image,d.src=a))},V=function(a){var d={width:parseInt(v.width+(l.width-v.width)*a,10),height:parseInt(v.height+(l.height-v.height)*a,10),top:parseInt(v.top+(l.top-v.top)*
a,10),left:parseInt(v.left+(l.left-v.left)*a,10)};"undefined"!==typeof l.opacity&&(d.opacity=.5>a?.5:a);f.css(d);m.css({width:d.width-2*c.padding,height:d.height-B*a-2*c.padding})},W=function(){return[b(window).width()-2*c.margin,b(window).height()-2*c.margin,b(document).scrollLeft()+c.margin,b(document).scrollTop()+c.margin]},aa=function(){var a=W(),d={},g=c.autoScale,h=2*c.padding;-1<c.width.toString().indexOf("%")?d.width=parseInt(a[0]*parseFloat(c.width)/100,10):d.width=c.width+h;-1<c.height.toString().indexOf("%")?
d.height=parseInt(a[1]*parseFloat(c.height)/100,10):d.height=c.height+h;g&&(d.width>a[0]||d.height>a[1])&&("image"==e.type||"swf"==e.type?(g=c.width/c.height,d.width>a[0]&&(d.width=a[0],d.height=parseInt((d.width-h)/g+h,10)),d.height>a[1]&&(d.height=a[1],d.width=parseInt((d.height-h)*g+h,10))):(d.width=Math.min(d.width,a[0]),d.height=Math.min(d.height,a[1])));d.top=parseInt(Math.max(a[3]-20,a[3]+.5*(a[1]-d.height-40)),10);d.left=parseInt(Math.max(a[2]-20,a[2]+.5*(a[0]-d.width-40)),10);return d},Y=
function(){var a=e.orig?b(e.orig):!1;if(a&&a.length){var d=a.offset();d.top+=parseInt(a.css("paddingTop"),10)||0;d.left+=parseInt(a.css("paddingLeft"),10)||0;d.top+=parseInt(a.css("border-top-width"),10)||0;d.left+=parseInt(a.css("border-left-width"),10)||0;d.width=a.width();d.height=a.height();a={width:d.width+2*c.padding,height:d.height+2*c.padding,top:d.top-c.padding-20,left:d.left-c.padding-20}}else a=W(),a={width:2*c.padding,height:2*c.padding,top:parseInt(a[3]+.5*a[1],10),left:parseInt(a[2]+
.5*a[0],10)};return a},ca=function(){z.is(":visible")?(b("div",z).css("top",-40*P+"px"),P=(P+1)%12):clearInterval(O)};b.fn.fancybox=function(a){if(!b(this).length)return this;b(this).data("fancybox",b.extend({},a,b.metadata?b(this).metadata():{})).off("click.fb").on("click.fb",function(d){d.preventDefault();k||(k=!0,b(this).trigger("blur"),t=[],u=0,(d=b(this).attr("rel")||"")&&""!=d&&"nofollow"!==d?(t=b("a[rel="+d+"], area[rel="+d+"]"),u=t.index(this)):t.push(this),M())});return this};b.fancybox=
function(a,d){if(!k){k=!0;d="undefined"!==typeof d?d:{};t=[];u=parseInt(d.index,10)||0;if(b.isArray(a)){for(var g=0,h=a.length;g<h;g++)"object"==typeof a[g]?b(a[g]).data("fancybox",b.extend({},d,a[g])):a[g]=b({}).data("fancybox",b.extend({content:a[g]},d));t=jQuery.merge(t,a)}else"object"==typeof a?b(a).data("fancybox",b.extend({},d,a)):a=b({}).data("fancybox",b.extend({content:a},d)),t.push(a);if(u>t.length||0>u)u=0;M()}};b.fancybox.showActivity=function(){clearInterval(O);z.show();O=setInterval(ca,
66)};b.fancybox.hideActivity=function(){z.hide()};b.fancybox.next=function(){return b.fancybox.pos(r+1)};b.fancybox.prev=function(){return b.fancybox.pos(r-1)};b.fancybox.pos=function(a){k||(a=parseInt(a),t=n,-1<a&&a<n.length?(u=a,M()):c.cyclic&&1<n.length&&(u=a>=n.length?0:n.length-1,M()))};b.fancybox.cancel=function(){k||(k=!0,b(".fancybox-inline-tmp").trigger("fancybox-cancel"),Q(),e.onCancel(t,u,e),k=!1)};b.fancybox.close=function(){function a(){w.fadeOut("fast");q.empty().hide();f.hide();b(".fancybox-inline-tmp").trigger("fancybox-cleanup");
m.empty();c.onClosed(n,r,c);n[r].focus();n=e=[];r=u=0;c=e={};k=!1}if(!k&&!f.is(":hidden"))if(k=!0,c&&!1===c.onCleanup(n,r,c))k=!1;else if(Q(),b(D.add(E).add(F)).hide(),b(m.add(w)).off(),b(window).off("resize.fb scroll.fb"),b(document).off("keydown.fb"),m.find("iframe").attr("src","about:blank"),"inside"!==c.titlePosition&&q.empty(),f.stop(),"elastic"==c.transitionOut){v=Y();var d=f.position();l={top:d.top,left:d.left,width:f.width(),height:f.height()};c.opacity&&(l.opacity=1);q.empty().hide();G.prop=
1;b(G).animate({prop:0},{duration:c.speedOut,easing:c.easingOut,step:V,complete:a})}else f.fadeOut("none"==c.transitionOut?0:c.speedOut,a)};b.fancybox.resize=function(){w.is(":visible")&&w.css("height",b(document).height());b.fancybox.center(!0)};b.fancybox.center=function(a){if(!k){var d=!0===a?1:0;var g=W();!d&&(f.width()>g[0]||f.height()>g[1])||f.stop().animate({top:parseInt(Math.max(g[3]-20,g[3]+.5*(g[1]-m.height()-40)-c.padding)),left:parseInt(Math.max(g[2]-20,g[2]+.5*(g[0]-m.width()-40)-c.padding))},
"number"==typeof a?a:200)}};b.fancybox.init=function(){if(!b("#fancybox-wrap").length&&(b("body").append(p=b('<div id="fancybox-tmp"></div>'),z=b('<div id="fancybox-loading"><div></div></div>'),w=b('<div id="fancybox-overlay"></div>'),f=b('<div id="fancybox-wrap"></div>')),J=b('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(f),
J.append(m=b('<div id="fancybox-content"></div>'),D=b('<a href="" id="fancybox-close"><span class="visuallyhidden">Close</span></a>'),q=b('<div id="fancybox-title"></div>'),E=b('<a href="" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span><span class="visuallyhidden">Previous image</span></a>'),F=b('<a href="" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span><span class="visuallyhidden">Next image</span></a>')),D.on("click",function(a){a.preventDefault();
b.fancybox.close()}),z.on("click",b.fancybox.cancel),E.on("click",function(a){a.preventDefault();b.fancybox.prev()}),F.on("click",function(a){a.preventDefault();b.fancybox.next()}),b.fn.mousewheel))f.on("mousewheel.fb",function(a,d){if(k)a.preventDefault();else if(0==b(a.target).get(0).clientHeight||b(a.target).get(0).scrollHeight===b(a.target).get(0).clientHeight)a.preventDefault(),b.fancybox[0<d?"prev":"next"]()})};b.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",
width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},
onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};b(document).ready(function(){b.fancybox.init()})})(jQuery);
